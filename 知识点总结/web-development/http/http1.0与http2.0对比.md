### HTTP/1.0和HTTP/1.1有什么区别

* 长连接： HTTP/1.1支持长连接和请求的流水线，在一个TCP连接上可以传送多个HTTP请求，避免了因为多次建立TCP连接的时间消耗和延时
* 缓存处理： HTTP/1.1引入Entity tag，If-Unmodified-Since, If-Match, If-None-Match等新的请求头来控制缓存，详见浏览器缓存小节
* 带宽优化及网络连接的使用： HTTP1.1则在请求头引入了range头域，支持断点续传功能
* Host头处理： 在HTTP/1.0中认为每台服务器都有唯一的IP地址，但随着虚拟主机技术的发展，多个主机共享一个IP地址愈发普遍，HTTP1.1的请求消息和响应消息都应支持Host头域，且请求消息中如果没有Host头域会400错误

### 介绍一下HTTP/2.0新特性

* 多路复用： 即多个请求都通过一个TCP连接并发地完成
* 服务端推送： 服务端能够主动把资源推送给客户端
* 新的二进制格式： HTTP/2采用二进制格式传输数据，相比于HTTP/1.1的文本格式，二进制格式具有更好的解析性和拓展性
* header压缩： HTTP/2压缩消息头，减少了传输数据的大小

## HTTP/2.0 的多路复用是该协议的一个重要特性，它解决了 HTTP/1.x 中的一些主要问题。让我们来详细探讨一下它的基本原理和解决的问题

基本原理：

1. 流（Stream）和帧（Frame）：
   * HTTP/2.0 引入了"流"的概念，每个请求-响应对应一个流。
   * 所有通信都在一个 TCP 连接上以二进制帧的形式传输。
   * 每个帧都标识了它属于哪个流。

2. 并发传输：
   * 多个流可以并发地在同一个连接上传输，而不需要按顺序一一对应。
   * 接收方可以根据帧的标识重新组装完整的消息。

3. 优先级和依赖：
   * 可以为流设置优先级，优化传输顺序。
   * 流之间可以设置依赖关系，确保关键资源优先传输。

4. 头部压缩：
   * 使用 HPACK 算法压缩头部，减少传输数据量。

解决的问题：

1. 队头阻塞（Head-of-Line Blocking）：
   * HTTP/1.x 中，同一连接上的请求必须按顺序处理，后面的请求会被前面的请求阻塞。
   * HTTP/2.0 允许并发处理多个请求，解决了这个问题。

2. 连接数限制：
   * HTTP/1.x 通常使用多个 TCP 连接来实现并行请求，但浏览器对每个域名的连接数有限制。
   * HTTP/2.0 只需一个连接就能并发处理多个请求，突破了这个限制。

3. 网络利用率：
   * HTTP/1.x 的多个连接可能导致 TCP 慢启动多次触发，影响性能。
   * HTTP/2.0 的单连接多路复用提高了网络利用率。

4. 服务器推送：
   * HTTP/2.0 支持服务器主动推送相关资源，无需客户端额外请求。

5. 头部冗余：
   * HTTP/2.0 的头部压缩大大减少了重复传输的头部数据。

6. 延迟敏感性：
   * 对于小文件传输，HTTP/2.0 的性能明显优于 HTTP/1.x，因为它减少了建立多个连接的开销。

7. 更好的错误处理：
   * 在 HTTP/2.0 中，单个请求的失败不会影响整个连接。

总结：
HTTP/2.0 的多路复用通过在单一 TCP 连接上并发处理多个请求-响应，显著提高了 Web 性能。它解决了 HTTP/1.x 中的队头阻塞、连接数限制等问题，同时提高了网络利用率，减少了延迟，为现代 Web 应用提供了更高效的通信基础。

为了解决以上几个问题

* HTTP/2一个域名只使用一个TCP⻓连接来传输数据，而且请求直接是并行的、非阻塞的，这就是多路复用

实现原理： HTTP/2引入了一个二进制分帧层，客户端和服务端进行传输时，数据会先经过二进制分帧层处理，转化为一个个带有请求ID的帧，这些帧在传输完成后根据ID组合成对应的数据
